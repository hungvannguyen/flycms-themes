{% extends 'layouts/default.html' %}

{% block content %}
<!-- Banner -->
<section class="banner">
	<div class="banner_container">
		<img src="{{ link_asset('images/banner/banner.jpg') }}" alt="Banner Image" class="banner_image" />
		<div class="banner_overlay">
			<div class="banner_text_container">
				<span class="banner_title">World Blood Donor Day</span>
			</div>
			<div class="banner_button_container">
				<a href="/" class="banner_button">Learn more</a>
			</div>
		</div>
	</div>
</section>
<!-- End Banner -->

<!-- Main Content -->
<section class="content-section-1">

	{% set data = website.getMetaValue('home-sections') %}
	{% set tags = data|split(',') %}
	{% set tag_data_list = [] %}
	{% set previous_tag_name = '' %}

	{% for tag in tags %}
	{% set parts = tag|split(':') %}
	{% set tag_name = (parts|length > 1) ? parts[0]|trim : previous_tag_name %}
	{% set ids = parts[parts|length > 1 ? 1 : 0]|trim|split(' ') %}
	{% set previous_tag_name = tag_name %}
	{% set tag_data_list = tag_data_list|merge([{'tag_name': tag_name, 'ids': ids}]) %}
	{% endfor %}

	{% include 'components/section_list_post.html' with { tag_data_list: tag_data_list, listData: post_list(), count: listData.getResourcesCount()} %}

</section>
<!-- End Main Content -->

<script type="module">
	import {fetchPosts} from "{{ link_asset('js/main.js') }}?t={{ time() }}";


	// const posts = fetchPosts();
  //   	console.log(posts);
</script>
{% endblock %}

